<html>
    <head>
        <title>Método de Hondt</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body>
        <div class="border rounded max-w-xl m-auto my-4 p-4">
            <div class="flex">
                <p class="text-xl mx-4 w-1/2">Número de partidos</p>
                <input type="text" 
                    id="n_partidos" 
                    name="n_partidos"                    class="p-2 bg-blue-50 rounded"
                    4
                >
            </div>  
            <button 
                class="mt-4 border bg-red-400 p-4 text-xl rounded hover:bg-red-500 shadow text-white w-full m-auto"
                onclick="defineTotalPartidos()">Calcular
            </button>
            <div class="mt-8">  
                <p class="text-2xl">Resultados</p>
                <p id="resultado" class="bg-green-100"></p>
                <input type="text" id="resultado_text" disabled>
            </div>
            <div id="resultados_partidos">

            </div>
            <div id="button_calcular">
                <button class="bg-red-400 text-white p-2 border hover:shadow hover:bg-red-500 rounded px-4" onclick="hondt()">Distribuir mandatos</button>
            </div>
        </div>
        <script>

            let n_partidos;

            document.getElementById('button_calcular').style.visibility = 'hidden';

            function hondt() {
                
                let total = 0;
                for (let i=0; i<n_partidos; i++)
                    total += parseInt(document.getElementById("resultado_partido" + i).value);
                alert(total);                
            }

            function defineTotalPartidos() {
                n_partidos = parseInt(document.getElementById("n_partidos").value);

                document.getElementById('button_calcular').style.visibility = 'visible';

                for (let i=0; i<n_partidos; i++) {
                    // 
                    var div_partido = document.createElement("div");
                    div_partido.className = "flex p-2 border my-2";
                    document.getElementById("resultados_partidos").appendChild(div_partido); 

                    // Criação da label
                    var label_partido = document.createElement("p");
                    label_partido.innerHTML = "Partido " + (i+1);
                    label_partido.className = "text-xl"; 
                    div_partido.appendChild(label_partido); 

                    // Criação do input
                    var input = document.createElement("input");
                    input.type = "text";
                    input.id = "resultado_partido" + i;
                    input.className = "my-2 mx-4 p-2 bg-indigo-300 text-white"; 
                    div_partido.appendChild(input); 
                }
            }

        </script>
    </body>
</html> 